{"version":3,"file":"index.es.js","sources":["../src/publicUtils.js","../src/utils.js","../src/makeDefaultPluginHooks.js","../src/hooks/useColumnVisibility.js","../src/hooks/useTable.js","../src/plugin-hooks/useExpanded.js","../src/filterTypes.js","../src/plugin-hooks/useFilters.js","../src/aggregations.js","../src/plugin-hooks/useGroupBy.js","../src/sortTypes.js","../src/plugin-hooks/useSortBy.js","../src/plugin-hooks/usePagination.js","../src/plugin-hooks/useRowSelect.js","../src/plugin-hooks/useRowState.js","../src/plugin-hooks/useColumnOrder.js","../src/plugin-hooks/useResizeColumns.js","../src/plugin-hooks/useAbsoluteLayout.js","../src/plugin-hooks/useBlockLayout.js"],"sourcesContent":["import React from 'react'\n\nexport const actions = {\n  init: 'init',\n}\n\nexport const defaultColumn = {\n  Cell: ({ cell: { value = '' } }) => String(value),\n  width: 150,\n  minWidth: 0,\n  maxWidth: Number.MAX_SAFE_INTEGER,\n}\n\nexport function defaultOrderByFn(arr, funcs, dirs) {\n  return [...arr].sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const sortFn = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = sortFn(rowA, rowB)\n      if (sortInt !== 0) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    return dirs[0] ? rowA.index - rowB.index : rowB.index - rowA.index\n  })\n}\n\nexport function defaultGroupByFn(rows, columnId) {\n  return rows.reduce((prev, row, i) => {\n    // TODO: Might want to implement a key serializer here so\n    // irregular column values can still be grouped if needed?\n    const resKey = `${row.values[columnId]}`\n    prev[resKey] = Array.isArray(prev[resKey]) ? prev[resKey] : []\n    prev[resKey].push(row)\n    return prev\n  }, {})\n}\n\nfunction mergeProps(...propList) {\n  return propList.reduce((props, next) => {\n    const { style, className, ...rest } = next\n\n    props = {\n      ...props,\n      ...rest,\n      style: {\n        ...(props.style || {}),\n        ...(style || {}),\n      },\n      className: [props.className, className].filter(Boolean).join(' '),\n    }\n\n    if (props.className === '') {\n      delete props.className\n    }\n\n    return props\n  }, {})\n}\n\nfunction handlePropGetter(prevProps, userProps, ...meta) {\n  // Handle a lambda, pass it the previous props\n  if (typeof userProps === 'function') {\n    return handlePropGetter({}, userProps(prevProps, ...meta))\n  }\n\n  // Handle an array, merge each item as separate props\n  if (Array.isArray(userProps)) {\n    return mergeProps(prevProps, ...userProps)\n  }\n\n  // Handle an object by default, merge the two objects\n  return mergeProps(prevProps, userProps)\n}\n\nexport const makePropGetter = (hooks, ...meta) => {\n  return (userProps = {}) =>\n    [...hooks, userProps].reduce(\n      (prev, next) => handlePropGetter(prev, next, ...meta),\n      {}\n    )\n}\n\nexport const reduceHooks = (hooks, initial, ...args) =>\n  hooks.reduce((prev, next) => {\n    const nextValue = next(prev, ...args)\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof nextValue === 'undefined') {\n        console.info(next)\n        throw new Error(\n          'React Table: A reducer hook ☝️ just returned undefined! This is not allowed.'\n        )\n      }\n    }\n    return nextValue\n  }, initial)\n\nexport const loopHooks = (hooks, ...args) =>\n  hooks.forEach(hook => {\n    const nextValue = hook(...args)\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof nextValue !== 'undefined') {\n        console.info(hook, nextValue)\n        throw new Error(\n          'React Table: A loop-type hook ☝️ just returned a value! This is not allowed.'\n        )\n      }\n    }\n  })\n\nexport function ensurePluginOrder(plugins, befores, pluginName, afters) {\n  const pluginIndex = plugins.findIndex(\n    plugin => plugin.pluginName === pluginName\n  )\n\n  if (pluginIndex === -1) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(`The plugin \"${pluginName}\" was not found in the plugin list!\nThis usually means you need to need to name your plugin hook by setting the 'pluginName' property of the hook function, eg:\n\n  ${pluginName}.pluginName = '${pluginName}'\n`)\n    }\n  }\n\n  befores.forEach(before => {\n    const beforeIndex = plugins.findIndex(\n      plugin => plugin.pluginName === before\n    )\n    if (beforeIndex > -1 && beforeIndex > pluginIndex) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error(\n          `React Table: The ${pluginName} plugin hook must be placed after the ${before} plugin hook!`\n        )\n      }\n    }\n  })\n\n  afters.forEach(after => {\n    const afterIndex = plugins.findIndex(plugin => plugin.pluginName === after)\n    if (process.env.NODE_ENV !== 'production') {\n      if (afterIndex > -1 && afterIndex < pluginIndex) {\n        throw new Error(\n          `React Table: The ${pluginName} plugin hook must be placed before the ${after} plugin hook!`\n        )\n      }\n    }\n  })\n}\n\nexport function functionalUpdate(updater, old) {\n  return typeof updater === 'function' ? updater(old) : updater\n}\n\nexport function useGetLatest(obj) {\n  const ref = React.useRef()\n  ref.current = obj\n\n  return React.useCallback(() => ref.current, [])\n}\n\n// SSR has issues with useLayoutEffect still, so use useEffect during SSR\nexport const safeUseLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport function useMountedLayoutEffect(fn, deps) {\n  const mountedRef = React.useRef(false)\n\n  safeUseLayoutEffect(() => {\n    if (mountedRef.current) {\n      fn()\n    }\n    mountedRef.current = true\n    // eslint-disable-next-line\n  }, deps)\n}\n\nexport function useAsyncDebounce(defaultFn, defaultWait = 0) {\n  const debounceRef = React.useRef({})\n  debounceRef.current.defaultFn = defaultFn\n  debounceRef.current.defaultWait = defaultWait\n\n  const debounce = React.useCallback(\n    async (\n      fn = debounceRef.current.defaultFn,\n      wait = debounceRef.current.defaultWait\n    ) => {\n      if (!debounceRef.current.promise) {\n        debounceRef.current.promise = new Promise((resolve, reject) => {\n          debounceRef.current.resolve = resolve\n          debounceRef.current.reject = reject\n        })\n      }\n\n      if (debounceRef.current.timeout) {\n        clearTimeout(debounceRef.current.timeout)\n      }\n\n      debounceRef.current.timeout = setTimeout(async () => {\n        delete debounceRef.current.timeout\n        try {\n          debounceRef.current.resolve(await fn())\n        } catch (err) {\n          debounceRef.current.reject(err)\n        } finally {\n          delete debounceRef.current.promise\n        }\n      }, wait)\n\n      return debounceRef.current.promise\n    },\n    []\n  )\n\n  return debounce\n}\n\nexport function useConsumeHookGetter(hooks, hookName) {\n  const getter = useGetLatest(hooks[hookName])\n  hooks[hookName] = undefined\n  return getter\n}\n","import React from 'react'\nimport { defaultColumn } from './publicUtils'\n\nexport * from './publicUtils'\n\n// Find the depth of the columns\nexport function findMaxDepth(columns, depth = 0) {\n  return columns.reduce((prev, curr) => {\n    if (curr.columns) {\n      return Math.max(prev, findMaxDepth(curr.columns, depth + 1))\n    }\n    return depth\n  }, 0)\n}\n\nfunction decorateColumn(column, userDefaultColumn, parent, depth, index) {\n  // Apply the userDefaultColumn\n  column = { ...defaultColumn, ...userDefaultColumn, ...column }\n\n  // First check for string accessor\n  let { id, accessor, Header } = column\n\n  if (typeof accessor === 'string') {\n    id = id || accessor\n    const accessorPath = accessor.split('.')\n    accessor = row => getBy(row, accessorPath)\n  }\n\n  if (!id && typeof Header === 'string' && Header) {\n    id = Header\n  }\n\n  if (!id && column.columns) {\n    console.error(column)\n    throw new Error('A column ID (or unique \"Header\" value) is required!')\n  }\n\n  if (!id) {\n    console.error(column)\n    throw new Error('A column ID (or string accessor) is required!')\n  }\n\n  column = {\n    // Make sure there is a fallback header, just in case\n    Header: () => <>&nbsp;</>,\n    Footer: () => <>&nbsp;</>,\n    ...column,\n    // Materialize and override this stuff\n    id,\n    accessor,\n    parent,\n    depth,\n    index,\n  }\n\n  return column\n}\n\n// Build the visible columns, headers and flat column list\nexport function decorateColumnTree(columns, defaultColumn, parent, depth = 0) {\n  return columns.map((column, columnIndex) => {\n    column = decorateColumn(column, defaultColumn, parent, depth, columnIndex)\n    if (column.columns) {\n      column.columns = decorateColumnTree(\n        column.columns,\n        defaultColumn,\n        column,\n        depth + 1\n      )\n    }\n    return column\n  })\n}\n\n// Build the header groups from the bottom up\nexport function makeHeaderGroups(flatColumns, defaultColumn) {\n  const headerGroups = []\n\n  // Build each header group from the bottom up\n  const buildGroup = (columns, depth) => {\n    const headerGroup = {\n      headers: [],\n    }\n\n    const parentColumns = []\n\n    // Do any of these columns have parents?\n    const hasParents = columns.some(col => col.parent)\n\n    columns.forEach(column => {\n      // Are we the first column in this group?\n      const isFirst = !parentColumns.length\n\n      // What is the latest (last) parent column?\n      let latestParentColumn = [...parentColumns].reverse()[0]\n\n      // If the column has a parent, add it if necessary\n      if (column.parent) {\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === column.parent.id\n        )\n        if (isFirst || latestParentColumn.originalId !== column.parent.id) {\n          parentColumns.push({\n            ...column.parent,\n            originalId: column.parent.id,\n            id: [column.parent.id, similarParentColumns.length].join('_'),\n          })\n        }\n      } else if (hasParents) {\n        // If other columns have parents, we'll need to add a place holder if necessary\n        const originalId = [column.id, 'placeholder'].join('_')\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === originalId\n        )\n        const placeholderColumn = decorateColumn(\n          {\n            originalId,\n            id: [column.id, 'placeholder', similarParentColumns.length].join(\n              '_'\n            ),\n            placeholderOf: column,\n          },\n          defaultColumn\n        )\n        if (\n          isFirst ||\n          latestParentColumn.originalId !== placeholderColumn.originalId\n        ) {\n          parentColumns.push(placeholderColumn)\n        }\n      }\n\n      // Establish the new headers[] relationship on the parent\n      if (column.parent || hasParents) {\n        latestParentColumn = [...parentColumns].reverse()[0]\n        latestParentColumn.headers = latestParentColumn.headers || []\n        if (!latestParentColumn.headers.includes(column)) {\n          latestParentColumn.headers.push(column)\n        }\n      }\n\n      column.totalHeaderCount = column.headers\n        ? column.headers.reduce(\n            (sum, header) => sum + header.totalHeaderCount,\n            0\n          )\n        : 1 // Leaf node columns take up at least one count\n      headerGroup.headers.push(column)\n    })\n\n    headerGroups.push(headerGroup)\n\n    if (parentColumns.length) {\n      buildGroup(parentColumns, depth + 1)\n    }\n  }\n\n  buildGroup(flatColumns, 0)\n\n  return headerGroups.reverse()\n}\n\nconst pathObjCache = new Map()\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const cacheKey = typeof path === 'function' ? path : JSON.stringify(path)\n\n  const pathObj =\n    pathObjCache.get(cacheKey) ||\n    (() => {\n      const pathObj = makePathArray(path)\n      pathObjCache.set(cacheKey, pathObj)\n      return pathObj\n    })()\n\n  let val\n\n  try {\n    val = pathObj.reduce((cursor, pathPart) => cursor[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nexport function getFirstDefined(...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nexport function getElementDimensions(element) {\n  const rect = element.getBoundingClientRect()\n  const style = window.getComputedStyle(element)\n  const margins = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n  }\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n  }\n  return {\n    left: Math.ceil(rect.left),\n    width: Math.ceil(rect.width),\n    outerWidth: Math.ceil(\n      rect.width + margins.left + margins.right + padding.left + padding.right\n    ),\n    marginLeft: margins.left,\n    marginRight: margins.right,\n    paddingLeft: padding.left,\n    paddingRight: padding.right,\n    scrollWidth: element.scrollWidth,\n  }\n}\n\nexport function flexRender(Comp, props) {\n  return isReactComponent(Comp) ? <Comp {...props} /> : Comp\n}\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' &&\n    !!(() => {\n      let proto = Object.getPrototypeOf(component)\n      return proto.prototype && proto.prototype.isReactComponent\n    })()\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return typeof component === 'function'\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\nexport function isFunction(a) {\n  if (typeof a === 'function') {\n    return a\n  }\n}\n\nexport function flattenBy(columns, childKey) {\n  const flatColumns = []\n\n  const recurse = columns => {\n    columns.forEach(d => {\n      if (!d[childKey]) {\n        flatColumns.push(d)\n      } else {\n        recurse(d[childKey])\n      }\n    })\n  }\n\n  recurse(columns)\n\n  return flatColumns\n}\n\nexport function expandRows(\n  rows,\n  { manualExpandedKey, expanded, expandSubRows = true }\n) {\n  const expandedRows = []\n\n  const handleRow = row => {\n    const key = row.path.join('.')\n\n    row.isExpanded =\n      (row.original && row.original[manualExpandedKey]) ||\n      expanded.includes(key)\n\n    row.canExpand = row.subRows && !!row.subRows.length\n\n    expandedRows.push(row)\n\n    if (expandSubRows && row.subRows && row.subRows.length && row.isExpanded) {\n      row.subRows.forEach(handleRow)\n    }\n  }\n\n  rows.forEach(handleRow)\n\n  return expandedRows\n}\n\n//\n\nconst reOpenBracket = /\\[/g\nconst reCloseBracket = /\\]/g\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map(d => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(reOpenBracket, '.')\n      .replace(reCloseBracket, '')\n      // split it back out on periods\n      .split('.')\n  )\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n","const defaultGetHeaderProps = (props, instance, column) => ({\n  key: ['header', column.id].join('_'),\n  colSpan: column.totalVisibleHeaderCount,\n  ...props,\n})\n\nconst defaultGetFooterProps = (props, instance, column) => ({\n  key: ['footer', column.id].join('_'),\n  colSpan: column.totalVisibleHeaderCount,\n  ...props,\n})\n\nconst defaultGetHeaderGroupProps = (props, instance, headerGroup, index) => ({\n  key: ['header', index].join('_'),\n  ...props,\n})\n\nconst defaultGetFooterGroupProps = (props, instance, headerGroup, index) => ({\n  key: ['footer', index].join('_'),\n  ...props,\n})\n\nconst defaultGetRowProps = (props, instance, row) => ({\n  key: ['row', ...row.path].join('_'),\n  ...props,\n})\n\nconst defaultGetCellProps = (props, instance, cell) => ({\n  ...props,\n  key: ['cell', ...cell.row.path, cell.column.id].join('_'),\n})\n\nexport default function makeDefaultPluginHooks() {\n  return {\n    useOptions: [],\n    stateReducers: [],\n    columns: [],\n    columnsDeps: [],\n    flatColumns: [],\n    flatColumnsDeps: [],\n    headerGroups: [],\n    headerGroupsDeps: [],\n    useInstanceBeforeDimensions: [],\n    useInstance: [],\n    useRows: [],\n    prepareRow: [],\n    getTableProps: [],\n    getTableBodyProps: [],\n    getHeaderGroupProps: [defaultGetHeaderGroupProps],\n    getFooterGroupProps: [defaultGetFooterGroupProps],\n    getHeaderProps: [defaultGetHeaderProps],\n    getFooterProps: [defaultGetFooterProps],\n    getRowProps: [defaultGetRowProps],\n    getCellProps: [defaultGetCellProps],\n    useFinalInstance: [],\n  }\n}\n","import React from 'react'\n\nimport {\n  actions,\n  functionalUpdate,\n  useGetLatest,\n  useConsumeHookGetter,\n  makePropGetter,\n} from '../utils'\n\nactions.resetHiddenColumns = 'resetHiddenColumns'\nactions.toggleHideColumn = 'toggleHideColumn'\nactions.setHiddenColumns = 'setHiddenColumns'\nactions.toggleHideAllColumns = 'toggleHideAllColumns'\n\nexport const useColumnVisibility = hooks => {\n  hooks.getToggleHiddenProps = [defaultGetToggleHiddenProps]\n  hooks.getToggleHideAllColumnsProps = [defaultGetToggleHideAllColumnsProps]\n\n  hooks.stateReducers.push(reducer)\n  hooks.useInstanceBeforeDimensions.push(useInstanceBeforeDimensions)\n  hooks.headerGroupsDeps.push((deps, instance) => [\n    ...deps,\n    instance.state.hiddenColumns,\n  ])\n  hooks.useInstance.push(useInstance)\n}\n\nuseColumnVisibility.pluginName = 'useColumnVisibility'\n\nconst defaultGetToggleHiddenProps = (props, instance, column) => [\n  props,\n  {\n    onChange: e => {\n      column.toggleHidden(!e.target.checked)\n    },\n    style: {\n      cursor: 'pointer',\n    },\n    checked: column.isVisible,\n    title: 'Toggle Column Visible',\n  },\n]\n\nconst defaultGetToggleHideAllColumnsProps = (props, instance) => [\n  props,\n  {\n    onChange: e => {\n      instance.toggleHideAllColumns(!e.target.checked)\n    },\n    style: {\n      cursor: 'pointer',\n    },\n    checked: !instance.allColumnsHidden && !instance.state.hiddenColumns.length,\n    title: 'Toggle All Columns Hidden',\n    indeterminate:\n      !instance.allColumnsHidden && instance.state.hiddenColumns.length,\n  },\n]\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      hiddenColumns: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetHiddenColumns) {\n    return {\n      ...state,\n      hiddenColumns: [],\n    }\n  }\n\n  if (action.type === actions.toggleHideColumn) {\n    const should =\n      typeof action.value !== 'undefined'\n        ? action.value\n        : !state.hiddenColumns.includes(action.columnId)\n\n    const hiddenColumns = should\n      ? [...state.hiddenColumns, action.columnId]\n      : state.hiddenColumns.filter(d => d !== action.columnId)\n\n    return {\n      ...state,\n      hiddenColumns,\n    }\n  }\n\n  if (action.type === actions.setHiddenColumns) {\n    return {\n      ...state,\n      hiddenColumns: functionalUpdate(action.value, state.hiddenColumns),\n    }\n  }\n\n  if (action.type === actions.toggleHideAllColumns) {\n    const shouldAll =\n      typeof action.value !== 'undefined'\n        ? action.value\n        : !state.hiddenColumns.length\n\n    return {\n      ...state,\n      hiddenColumns: shouldAll\n        ? instanceRef.current.flatColumns.map(d => d.id)\n        : [],\n    }\n  }\n}\n\nfunction useInstanceBeforeDimensions(instance) {\n  const {\n    headers,\n    state: { hiddenColumns },\n  } = instance\n\n  const handleColumn = (column, parentVisible) => {\n    column.isVisible = parentVisible && !hiddenColumns.includes(column.id)\n\n    let totalVisibleHeaderCount = 0\n\n    if (column.headers && column.headers.length) {\n      column.headers.forEach(\n        subColumn =>\n          (totalVisibleHeaderCount += handleColumn(subColumn, column.isVisible))\n      )\n    } else {\n      totalVisibleHeaderCount = column.isVisible ? 1 : 0\n    }\n\n    column.totalVisibleHeaderCount = totalVisibleHeaderCount\n\n    return totalVisibleHeaderCount\n  }\n\n  let totalVisibleHeaderCount = 0\n\n  headers.forEach(\n    subHeader => (totalVisibleHeaderCount += handleColumn(subHeader, true))\n  )\n}\n\nfunction useInstance(instance) {\n  const {\n    flatHeaders,\n    dispatch,\n    flatColumns,\n    state: { hiddenColumns },\n  } = instance\n\n  const getInstance = useGetLatest(instance)\n\n  const allColumnsHidden = flatColumns.length === hiddenColumns.length\n\n  const toggleHideColumn = React.useCallback(\n    (columnId, value) =>\n      dispatch({ type: actions.toggleHideColumn, columnId, value }),\n    [dispatch]\n  )\n\n  const setHiddenColumns = React.useCallback(\n    value => dispatch({ type: actions.setHiddenColumns, value }),\n    [dispatch]\n  )\n\n  const toggleHideAllColumns = React.useCallback(\n    value => dispatch({ type: actions.toggleHideAllColumns, value }),\n    [dispatch]\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getToggleHideAllColumnsPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getToggleHideAllColumnsProps'\n  )\n\n  const getToggleHideAllColumnsProps = makePropGetter(\n    getToggleHideAllColumnsPropsHooks(),\n    getInstance()\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getToggleHiddenPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getToggleHiddenProps'\n  )\n\n  flatHeaders.forEach(column => {\n    column.toggleHidden = value => {\n      dispatch({\n        type: actions.toggleHideColumn,\n        columnId: column.id,\n        value,\n      })\n    }\n\n    column.getToggleHiddenProps = makePropGetter(\n      getToggleHiddenPropsHooks(),\n      getInstance(),\n      column\n    )\n  })\n\n  Object.assign(instance, {\n    allColumnsHidden,\n    toggleHideColumn,\n    setHiddenColumns,\n    toggleHideAllColumns,\n    getToggleHideAllColumnsProps,\n  })\n}\n","import React from 'react'\n\n//\nimport {\n  actions,\n  reduceHooks,\n  loopHooks,\n  makePropGetter,\n  flexRender,\n  decorateColumnTree,\n  makeHeaderGroups,\n  flattenBy,\n  useGetLatest,\n  useConsumeHookGetter,\n} from '../utils'\n\nimport makeDefaultPluginHooks from '../makeDefaultPluginHooks'\n\nimport { useColumnVisibility } from './useColumnVisibility'\n\nlet renderErr = 'Renderer Error'\n\nconst defaultInitialState = {}\nconst defaultColumnInstance = {}\nconst defaultReducer = (state, action, prevState) => state\nconst defaultGetSubRows = (row, index) => row.subRows || []\nconst defaultGetRowId = (row, index) => index\nconst defaultUseControlledState = d => d\n\nfunction applyDefaults(props) {\n  const {\n    initialState = defaultInitialState,\n    defaultColumn = defaultColumnInstance,\n    getSubRows = defaultGetSubRows,\n    getRowId = defaultGetRowId,\n    stateReducer = defaultReducer,\n    useControlledState = defaultUseControlledState,\n    ...rest\n  } = props\n\n  return {\n    ...rest,\n    initialState,\n    defaultColumn,\n    getSubRows,\n    getRowId,\n    stateReducer,\n    useControlledState,\n  }\n}\n\nexport const useTable = (props, ...plugins) => {\n  // Apply default props\n  props = applyDefaults(props)\n\n  // Add core plugins\n  plugins = [useColumnVisibility, ...plugins]\n\n  // Create the table instance\n  let instanceRef = React.useRef({})\n\n  // Create a getter for the instance (helps avoid a lot of potential memory leaks)\n  const getInstance = useGetLatest(instanceRef.current)\n\n  // Assign the props, plugins and hooks to the instance\n  Object.assign(getInstance(), {\n    ...props,\n    plugins,\n    hooks: makeDefaultPluginHooks(),\n  })\n\n  // Allow plugins to register hooks as early as possible\n  plugins.filter(Boolean).forEach(plugin => {\n    plugin(getInstance().hooks)\n  })\n\n  const getUseOptionsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'useOptions'\n  )\n\n  // Allow useOptions hooks to modify the options coming into the table\n  Object.assign(\n    getInstance(),\n    reduceHooks(getUseOptionsHooks(), applyDefaults(props))\n  )\n\n  const {\n    data,\n    columns: userColumns,\n    initialState,\n    defaultColumn,\n    getSubRows,\n    getRowId,\n    stateReducer,\n    useControlledState,\n  } = getInstance()\n\n  // Snapshot hook and disallow more from being added\n  const getStateReducers = useConsumeHookGetter(\n    getInstance().hooks,\n    'stateReducers'\n  )\n\n  // Setup user reducer ref\n  const getStateReducer = useGetLatest(stateReducer)\n\n  // Build the reducer\n  const reducer = React.useCallback(\n    (state, action) => {\n      // Detect invalid actions\n      if (!action.type) {\n        console.info({ action })\n        throw new Error('Unknown Action 👆')\n      }\n\n      // Reduce the state from all plugin reducers\n      return [\n        ...getStateReducers(),\n        // Allow the user to add their own state reducer(s)\n        ...(Array.isArray(getStateReducer())\n          ? getStateReducer()\n          : [getStateReducer()]),\n      ].reduce(\n        (s, handler) => handler(s, action, state, instanceRef) || s,\n        state\n      )\n    },\n    [getStateReducers, getStateReducer]\n  )\n\n  // Start the reducer\n  const [reducerState, dispatch] = React.useReducer(reducer, undefined, () =>\n    reducer(initialState, { type: actions.init })\n  )\n\n  // Allow the user to control the final state with hooks\n  const state = useControlledState(reducerState)\n\n  Object.assign(getInstance(), {\n    state,\n    dispatch,\n  })\n\n  // Snapshot hook and disallow more from being added\n  const getColumnsHooks = useConsumeHookGetter(getInstance().hooks, 'columns')\n\n  // Snapshot hook and disallow more from being added\n  const getColumnsDepsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'columnsDeps'\n  )\n\n  // Decorate All the columns\n  let columns = React.useMemo(\n    () =>\n      reduceHooks(\n        getColumnsHooks(),\n        decorateColumnTree(userColumns, defaultColumn),\n        getInstance()\n      ),\n    [\n      defaultColumn,\n      getColumnsHooks,\n      getInstance,\n      userColumns,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      ...getColumnsDepsHooks(getInstance()),\n    ]\n  )\n\n  getInstance().columns = columns\n\n  // Snapshot hook and disallow more from being added\n  const getFlatColumns = useConsumeHookGetter(\n    getInstance().hooks,\n    'flatColumns'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFlatColumnsDeps = useConsumeHookGetter(\n    getInstance().hooks,\n    'flatColumnsDeps'\n  )\n\n  // Get the flat list of all columns and allow hooks to decorate\n  // those columns (and trigger this memoization via deps)\n  let flatColumns = React.useMemo(\n    () =>\n      reduceHooks(\n        getFlatColumns(),\n        flattenBy(columns, 'columns'),\n        getInstance()\n      ),\n    [\n      columns,\n      getFlatColumns,\n      getInstance,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      getFlatColumnsDeps(getInstance()),\n    ]\n  )\n\n  getInstance().flatColumns = flatColumns\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroups = useConsumeHookGetter(\n    getInstance().hooks,\n    'headerGroups'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroupsDeps = useConsumeHookGetter(\n    getInstance().hooks,\n    'headerGroupsDeps'\n  )\n\n  // Make the headerGroups\n  const headerGroups = React.useMemo(\n    () =>\n      reduceHooks(\n        getHeaderGroups(),\n        makeHeaderGroups(flatColumns, defaultColumn),\n        getInstance()\n      ),\n    [\n      defaultColumn,\n      flatColumns,\n      getHeaderGroups,\n      getInstance,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      ...getHeaderGroupsDeps(getInstance()),\n    ]\n  )\n\n  getInstance().headerGroups = headerGroups\n\n  const headers = React.useMemo(\n    () => (headerGroups.length ? headerGroups[0].headers : []),\n    [headerGroups]\n  )\n\n  getInstance().headers = headers\n\n  // Access the row model\n  const [rows, flatRows] = React.useMemo(() => {\n    let flatRows = []\n\n    // Access the row's data\n    const accessRow = (originalRow, i, depth = 0, parentPath = []) => {\n      // Keep the original reference around\n      const original = originalRow\n\n      const rowId = getRowId(originalRow, i)\n\n      // Make the new path for the row\n      const path = [...parentPath, rowId]\n\n      const row = {\n        original,\n        index: i,\n        path, // used to create a key for each row even if not nested\n        depth,\n        cells: [{}], // This is a dummy cell\n      }\n\n      flatRows.push(row)\n\n      // Process any subRows\n      let subRows = getSubRows(originalRow, i)\n\n      if (subRows) {\n        row.subRows = subRows.map((d, i) => accessRow(d, i, depth + 1, path))\n      }\n\n      // Override common array functions (and the dummy cell's getCellProps function)\n      // to show an error if it is accessed without calling prepareRow\n      const unpreparedAccessWarning = () => {\n        throw new Error(\n          'React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.'\n        )\n      }\n      row.cells.map = unpreparedAccessWarning\n      row.cells.filter = unpreparedAccessWarning\n      row.cells.forEach = unpreparedAccessWarning\n      row.cells[0].getCellProps = unpreparedAccessWarning\n\n      // Create the cells and values\n      row.values = {}\n      flatColumns.forEach(column => {\n        row.values[column.id] = column.accessor\n          ? column.accessor(originalRow, i, { subRows, depth, data })\n          : undefined\n      })\n\n      return row\n    }\n\n    // Use the resolved data\n    const accessedData = data.map((d, i) => accessRow(d, i))\n\n    return [accessedData, flatRows]\n  }, [data, flatColumns, getRowId, getSubRows])\n\n  getInstance().rows = rows\n  getInstance().flatRows = flatRows\n\n  // Provide a flat header list for utilities\n  getInstance().flatHeaders = headerGroups.reduce(\n    (all, headerGroup) => [...all, ...headerGroup.headers],\n    []\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getUseInstanceBeforeDimensions = useConsumeHookGetter(\n    getInstance().hooks,\n    'useInstanceBeforeDimensions'\n  )\n\n  loopHooks(getUseInstanceBeforeDimensions(), getInstance())\n\n  // Header Visibility is needed by this point\n  getInstance().totalColumnsWidth = calculateHeaderWidths(headers)\n\n  // Snapshot hook and disallow more from being added\n  const getUseInstance = useConsumeHookGetter(\n    getInstance().hooks,\n    'useInstance'\n  )\n\n  loopHooks(getUseInstance(), getInstance())\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getHeaderProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFooterPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getFooterProps'\n  )\n\n  // Each materialized header needs to be assigned a render function and other\n  // prop getter properties here.\n  getInstance().flatHeaders.forEach(column => {\n    // Give columns/headers rendering power\n    column.render = (type, userProps = {}) => {\n      const Comp = typeof type === 'string' ? column[type] : type\n\n      if (typeof Comp === 'undefined') {\n        throw new Error(renderErr)\n      }\n\n      return flexRender(Comp, {\n        ...getInstance(),\n        column,\n        ...userProps,\n      })\n    }\n\n    // Give columns/headers a default getHeaderProps\n    column.getHeaderProps = makePropGetter(\n      getHeaderPropsHooks(),\n      getInstance(),\n      column\n    )\n\n    // Give columns/headers a default getFooterProps\n    column.getFooterProps = makePropGetter(\n      getFooterPropsHooks(),\n      getInstance(),\n      column\n    )\n  })\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroupPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getHeaderGroupProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFooterGroupPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getFooterGroupProps'\n  )\n\n  getInstance().headerGroups = getInstance().headerGroups.filter(\n    (headerGroup, i) => {\n      // Filter out any headers and headerGroups that don't have visible columns\n      headerGroup.headers = headerGroup.headers.filter(column => {\n        const recurse = headers =>\n          headers.filter(column => {\n            if (column.headers) {\n              return recurse(column.headers)\n            }\n            return column.isVisible\n          }).length\n        if (column.headers) {\n          return recurse(column.headers)\n        }\n        return column.isVisible\n      })\n\n      // Give headerGroups getRowProps\n      if (headerGroup.headers.length) {\n        headerGroup.getHeaderGroupProps = makePropGetter(\n          getHeaderGroupPropsHooks(),\n          getInstance(),\n          headerGroup,\n          i\n        )\n\n        headerGroup.getFooterGroupProps = makePropGetter(\n          getFooterGroupPropsHooks(),\n          getInstance(),\n          headerGroup,\n          i\n        )\n\n        return true\n      }\n\n      return false\n    }\n  )\n\n  getInstance().footerGroups = [...getInstance().headerGroups].reverse()\n\n  // Run the rows (this could be a dangerous hook with a ton of data)\n\n  // Snapshot hook and disallow more from being added\n  const getUseRowsHooks = useConsumeHookGetter(getInstance().hooks, 'useRows')\n\n  getInstance().rows = reduceHooks(\n    getUseRowsHooks(),\n    getInstance().rows,\n    getInstance()\n  )\n\n  // The prepareRow function is absolutely necessary and MUST be called on\n  // any rows the user wishes to be displayed.\n\n  // Snapshot hook and disallow more from being added\n  const getPrepareRowHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'prepareRow'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getRowPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getRowProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getCellPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getCellProps'\n  )\n\n  getInstance().prepareRow = React.useCallback(\n    row => {\n      row.getRowProps = makePropGetter(getRowPropsHooks(), getInstance(), row)\n\n      // Build the visible cells for each row\n      row.cells = getInstance()\n        .flatColumns.filter(d => d.isVisible)\n        .map(column => {\n          const cell = {\n            column,\n            row,\n            value: row.values[column.id],\n          }\n\n          // Give each cell a getCellProps base\n          cell.getCellProps = makePropGetter(\n            getCellPropsHooks(),\n            getInstance(),\n            cell\n          )\n\n          // Give each cell a renderer function (supports multiple renderers)\n          cell.render = (type, userProps = {}) => {\n            const Comp = typeof type === 'string' ? column[type] : type\n\n            if (typeof Comp === 'undefined') {\n              throw new Error(renderErr)\n            }\n\n            return flexRender(Comp, {\n              ...getInstance(),\n              column,\n              row,\n              cell,\n              ...userProps,\n            })\n          }\n\n          return cell\n        })\n\n      // need to apply any row specific hooks (useExpanded requires this)\n      loopHooks(getPrepareRowHooks(), row, getInstance())\n    },\n    [getCellPropsHooks, getInstance, getPrepareRowHooks, getRowPropsHooks]\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getTablePropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getTableProps'\n  )\n\n  getInstance().getTableProps = makePropGetter(\n    getTablePropsHooks(),\n    getInstance()\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getTableBodyPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getTableBodyProps'\n  )\n\n  getInstance().getTableBodyProps = makePropGetter(\n    getTableBodyPropsHooks(),\n    getInstance()\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getUseFinalInstanceHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'useFinalInstance'\n  )\n\n  loopHooks(getUseFinalInstanceHooks(), getInstance())\n\n  return getInstance()\n}\n\nfunction calculateHeaderWidths(headers, left = 0) {\n  let sumTotalWidth = 0\n\n  headers.forEach(header => {\n    let { headers: subHeaders } = header\n\n    header.totalLeft = left\n\n    if (subHeaders && subHeaders.length) {\n      header.totalWidth = calculateHeaderWidths(subHeaders, left)\n    } else {\n      header.totalWidth = Math.min(\n        Math.max(header.minWidth, header.width),\n        header.maxWidth\n      )\n    }\n    if (header.isVisible) {\n      left += header.totalWidth\n      sumTotalWidth += header.totalWidth\n    }\n  })\n\n  return sumTotalWidth\n}\n","import React from 'react'\n\nimport {\n  actions,\n  makePropGetter,\n  expandRows,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\nimport { useConsumeHookGetter } from '../publicUtils'\n\n// Actions\nactions.toggleExpandedByPath = 'toggleExpandedByPath'\nactions.resetExpanded = 'resetExpanded'\n\nexport const useExpanded = hooks => {\n  hooks.getExpandedToggleProps = [defaultGetExpandedToggleProps]\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseExpanded.pluginName = 'useExpanded'\n\nconst defaultGetExpandedToggleProps = (props, instance, row) => [\n  props,\n  {\n    onClick: e => {\n      e.persist()\n      row.toggleExpanded()\n    },\n    style: {\n      cursor: 'pointer',\n    },\n    title: 'Toggle Expanded',\n  },\n]\n\n// Reducer\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      expanded: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetExpanded) {\n    return {\n      ...state,\n      expanded: [],\n    }\n  }\n\n  if (action.type === actions.toggleExpandedByPath) {\n    const { path, expanded } = action\n    const key = path.join('.')\n    const exists = state.expanded.includes(key)\n    const shouldExist = typeof expanded !== 'undefined' ? expanded : !exists\n    let newExpanded = new Set(state.expanded)\n\n    if (!exists && shouldExist) {\n      newExpanded.add(key)\n    } else if (exists && !shouldExist) {\n      newExpanded.delete(key)\n    } else {\n      return state\n    }\n\n    return {\n      ...state,\n      expanded: [...newExpanded.values()],\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    manualExpandedKey = 'expanded',\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    hooks,\n    autoResetExpanded = true,\n    state: { expanded },\n    dispatch,\n  } = instance\n\n  const getAutoResetExpanded = useGetLatest(autoResetExpanded)\n\n  // Bypass any effects from firing when this changes\n  useMountedLayoutEffect(() => {\n    if (getAutoResetExpanded()) {\n      dispatch({ type: actions.resetExpanded })\n    }\n  }, [dispatch, data])\n\n  const toggleExpandedByPath = (path, expanded) => {\n    dispatch({ type: actions.toggleExpandedByPath, path, expanded })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const getInstance = useGetLatest(instance)\n\n  const getExpandedTogglePropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getExpandedToggleProps'\n  )\n\n  hooks.prepareRow.push(row => {\n    row.toggleExpanded = set => instance.toggleExpandedByPath(row.path, set)\n\n    row.getExpandedToggleProps = makePropGetter(\n      getExpandedTogglePropsHooks(),\n      getInstance(),\n      row\n    )\n  })\n\n  const expandedRows = React.useMemo(() => {\n    if (paginateExpandedRows) {\n      return expandRows(rows, { manualExpandedKey, expanded, expandSubRows })\n    }\n\n    return rows\n  }, [paginateExpandedRows, rows, manualExpandedKey, expanded, expandSubRows])\n\n  const expandedDepth = findExpandedDepth(expanded)\n\n  Object.assign(instance, {\n    toggleExpandedByPath,\n    preExpandedRows: rows,\n    expandedRows,\n    rows: expandedRows,\n    expandedDepth,\n  })\n}\n\nfunction findExpandedDepth(expanded) {\n  let maxDepth = 0\n\n  expanded.forEach(key => {\n    const path = key.split('.')\n    maxDepth = Math.max(maxDepth, path.length)\n  })\n\n  return maxDepth\n}\n","export const text = (rows, id, filterValue) => {\n  rows = rows.filter(row => {\n    const rowValue = row.values[id]\n    return String(rowValue)\n      .toLowerCase()\n      .includes(String(filterValue).toLowerCase())\n  })\n  return rows\n}\n\ntext.autoRemove = val => !val\n\nexport const exactText = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue).toLowerCase() === String(filterValue).toLowerCase()\n      : true\n  })\n}\n\nexactText.autoRemove = val => !val\n\nexport const exactTextCase = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue) === String(filterValue)\n      : true\n  })\n}\n\nexactTextCase.autoRemove = val => !val\n\nexport const includes = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return filterValue.includes(rowValue)\n  })\n}\n\nincludes.autoRemove = val => !val || !val.length\n\nexport const includesAll = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return (\n      rowValue &&\n      rowValue.length &&\n      filterValue.every(val => rowValue.includes(val))\n    )\n  })\n}\n\nincludesAll.autoRemove = val => !val || !val.length\n\nexport const exact = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue === filterValue\n  })\n}\n\nexact.autoRemove = val => typeof val === 'undefined'\n\nexport const equals = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    // eslint-disable-next-line eqeqeq\n    return rowValue == filterValue\n  })\n}\n\nequals.autoRemove = val => val == null\n\nexport const between = (rows, id, filterValue) => {\n  let [min, max] = filterValue || []\n\n  min = typeof min === 'number' ? min : -Infinity\n  max = typeof max === 'number' ? max : Infinity\n\n  if (min > max) {\n    const temp = min\n    min = max\n    max = temp\n  }\n\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue >= min && rowValue <= max\n  })\n}\n\nbetween.autoRemove = val =>\n  !val || (typeof val[0] !== 'number' && typeof val[1] !== 'number')\n","import React from 'react'\n\nimport {\n  actions,\n  getFirstDefined,\n  isFunction,\n  useMountedLayoutEffect,\n  functionalUpdate,\n  useGetLatest,\n} from '../utils'\nimport * as filterTypes from '../filterTypes'\n\n// Actions\nactions.resetFilters = 'resetFilters'\nactions.setFilter = 'setFilter'\nactions.setAllFilters = 'setAllFilters'\n\nexport const useFilters = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseFilters.pluginName = 'useFilters'\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      filters: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetFilters) {\n    return {\n      ...state,\n      filters: {},\n    }\n  }\n\n  if (action.type === actions.setFilter) {\n    const { columnId, filterValue } = action\n    const { flatColumns, userFilterTypes } = instanceRef.current\n    const column = flatColumns.find(d => d.id === columnId)\n\n    if (!column) {\n      throw new Error(\n        `React-Table: Could not find a column with id: ${columnId}`\n      )\n    }\n\n    const filterMethod = getFilterMethod(\n      column.filter,\n      userFilterTypes || {},\n      filterTypes\n    )\n\n    const newFilter = functionalUpdate(filterValue, state.filters[columnId])\n\n    //\n    if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n      const { [columnId]: remove, ...newFilters } = state.filters\n\n      return {\n        ...state,\n        filters: newFilters,\n      }\n    }\n\n    return {\n      ...state,\n      filters: {\n        ...state.filters,\n        [columnId]: newFilter,\n      },\n    }\n  }\n\n  if (action.type === actions.setAllFilters) {\n    const { filters } = action\n    const { flatColumns, filterTypes: userFilterTypes } = instanceRef.current\n    const newFilters = functionalUpdate(filters, state.filters)\n\n    // Filter out undefined values\n    Object.keys(newFilters).forEach(id => {\n      const newFilter = newFilters[id]\n      const column = flatColumns.find(d => d.id === id)\n      const filterMethod = getFilterMethod(\n        column.filter,\n        userFilterTypes || {},\n        filterTypes\n      )\n\n      if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n        delete newFilters[id]\n      }\n    })\n\n    return {\n      ...state,\n      filters: newFilters,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatRows,\n    flatColumns,\n    filterTypes: userFilterTypes,\n    manualFilters,\n    defaultCanFilter = false,\n    disableFilters,\n    state: { filters },\n    dispatch,\n    autoResetFilters = true,\n  } = instance\n\n  const setFilter = (columnId, filterValue) => {\n    dispatch({ type: actions.setFilter, columnId, filterValue })\n  }\n\n  const setAllFilters = filters => {\n    dispatch({\n      type: actions.setAllFilters,\n      filters,\n    })\n  }\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultCanFilter: columnDefaultCanFilter,\n      disableFilters: columnDisableFilters,\n    } = column\n\n    // Determine if a column is filterable\n    column.canFilter = accessor\n      ? getFirstDefined(\n          columnDisableFilters === true ? false : undefined,\n          disableFilters === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(columnDefaultCanFilter, defaultCanFilter, false)\n\n    // Provide the column a way of updating the filter value\n    column.setFilter = val => setFilter(column.id, val)\n\n    // Provide the current filter value to the column for\n    // convenience\n    column.filterValue = filters[id]\n  })\n\n  // TODO: Create a filter cache for incremental high speed multi-filtering\n  // This gets pretty complicated pretty fast, since you have to maintain a\n  // cache for each row group (top-level rows, and each row's recursive subrows)\n  // This would make multi-filtering a lot faster though. Too far?\n\n  const { filteredRows, filteredFlatRows } = React.useMemo(() => {\n    if (manualFilters || !Object.keys(filters).length) {\n      return {\n        filteredRows: rows,\n        filteredFlatRows: flatRows,\n      }\n    }\n\n    const filteredFlatRows = []\n\n    // Filters top level and nested rows\n    const filterRows = (rows, depth = 0) => {\n      let filteredRows = rows\n\n      filteredRows = Object.entries(filters).reduce(\n        (filteredSoFar, [columnId, filterValue]) => {\n          // Find the filters column\n          const column = flatColumns.find(d => d.id === columnId)\n\n          if (!column) {\n            return filteredSoFar\n          }\n\n          if (depth === 0) {\n            column.preFilteredRows = filteredSoFar\n          }\n\n          const filterMethod = getFilterMethod(\n            column.filter,\n            userFilterTypes || {},\n            filterTypes\n          )\n\n          if (!filterMethod) {\n            console.warn(\n              `Could not find a valid 'column.filter' for column with the ID: ${column.id}.`\n            )\n            return filteredSoFar\n          }\n\n          // Pass the rows, id, filterValue and column to the filterMethod\n          // to get the filtered rows back\n          column.filteredRows = filterMethod(\n            filteredSoFar,\n            columnId,\n            filterValue,\n            column\n          )\n\n          return column.filteredRows\n        },\n        rows\n      )\n\n      // Apply the filter to any subRows\n      // We technically could do this recursively in the above loop,\n      // but that would severely hinder the API for the user, since they\n      // would be required to do that recursion in some scenarios\n      filteredRows = filteredRows.map(row => {\n        filteredFlatRows.push(row)\n        if (!row.subRows) {\n          return row\n        }\n        return {\n          ...row,\n          subRows:\n            row.subRows && row.subRows.length > 0\n              ? filterRows(row.subRows, depth + 1)\n              : row.subRows,\n        }\n      })\n\n      return filteredRows\n    }\n\n    return {\n      filteredRows: filterRows(rows),\n      filteredFlatRows,\n    }\n  }, [manualFilters, filters, rows, flatRows, flatColumns, userFilterTypes])\n\n  React.useMemo(() => {\n    // Now that each filtered column has it's partially filtered rows,\n    // lets assign the final filtered rows to all of the other columns\n    const nonFilteredColumns = flatColumns.filter(\n      column => !Object.keys(filters).includes(column.id)\n    )\n\n    // This essentially enables faceted filter options to be built easily\n    // using every column's preFilteredRows value\n    nonFilteredColumns.forEach(column => {\n      column.preFilteredRows = filteredRows\n      column.filteredRows = filteredRows\n    })\n  }, [filteredRows, filters, flatColumns])\n\n  const getAutoResetFilters = useGetLatest(autoResetFilters)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetFilters()) {\n      dispatch({ type: actions.resetFilters })\n    }\n  }, [dispatch, manualFilters ? null : data])\n\n  Object.assign(instance, {\n    setFilter,\n    setAllFilters,\n    preFilteredRows: rows,\n    preFilteredFlatRows: flatRows,\n    filteredRows,\n    filteredFlatRows,\n    rows: filteredRows,\n    flatRows: filteredFlatRows,\n  })\n}\n\nfunction shouldAutoRemove(autoRemove, value) {\n  return autoRemove ? autoRemove(value) : typeof value === 'undefined'\n}\n\nfunction getFilterMethod(filter, userFilterTypes, filterTypes) {\n  return (\n    isFunction(filter) ||\n    userFilterTypes[filter] ||\n    filterTypes[filter] ||\n    filterTypes.text\n  )\n}\n","export function sum(values, rows) {\n  return values.reduce((sum, next) => sum + next, 0)\n}\n\nexport function average(values, rows) {\n  return Math.round((sum(values, rows) / values.length) * 100) / 100\n}\n\nexport function median(values) {\n  values = values.length ? values : [0]\n  let min = Math.min(...values)\n  let max = Math.max(...values)\n\n  return (min + max) / 2\n}\n\nexport function uniqueCount(values) {\n  return new Set(values).size\n}\n\nexport function count(values) {\n  return values.length\n}\n","import React from 'react'\n\nimport * as aggregations from '../aggregations'\nimport {\n  actions,\n  makePropGetter,\n  defaultGroupByFn,\n  getFirstDefined,\n  ensurePluginOrder,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\nimport { useConsumeHookGetter } from '../publicUtils'\n\n// Actions\nactions.resetGroupBy = 'resetGroupBy'\nactions.toggleGroupBy = 'toggleGroupBy'\n\nexport const useGroupBy = hooks => {\n  hooks.getGroupByToggleProps = [defaultGetGroupByToggleProps]\n  hooks.stateReducers.push(reducer)\n  hooks.flatColumnsDeps.push((deps, instance) => [\n    ...deps,\n    instance.state.groupBy,\n  ])\n  hooks.flatColumns.push(flatColumns)\n  hooks.useInstance.push(useInstance)\n}\n\nuseGroupBy.pluginName = 'useGroupBy'\n\nconst defaultGetGroupByToggleProps = (props, instance, header) => [\n  props,\n  {\n    onClick: header.canGroupBy\n      ? e => {\n          e.persist()\n          header.toggleGroupBy()\n        }\n      : undefined,\n    style: {\n      cursor: header.canGroupBy ? 'pointer' : undefined,\n    },\n    title: 'Toggle GroupBy',\n  },\n]\n\n// Reducer\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      groupBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetGroupBy) {\n    return {\n      ...state,\n      groupBy: [],\n    }\n  }\n\n  if (action.type === actions.toggleGroupBy) {\n    const { columnId, toggle } = action\n\n    const resolvedToggle =\n      typeof toggle !== 'undefined' ? toggle : !state.groupBy.includes(columnId)\n\n    if (resolvedToggle) {\n      return {\n        ...state,\n        groupBy: [...state.groupBy, columnId],\n      }\n    }\n\n    return {\n      ...state,\n      groupBy: state.groupBy.filter(d => d !== columnId),\n    }\n  }\n}\n\nfunction flatColumns(flatColumns, { state: { groupBy } }) {\n  // Sort grouped columns to the start of the column list\n  // before the headers are built\n\n  const groupByColumns = groupBy.map(g => flatColumns.find(col => col.id === g))\n  const nonGroupByColumns = flatColumns.filter(col => !groupBy.includes(col.id))\n\n  // If a groupByBoundary column is found, place the groupBy's after it\n  const groupByBoundaryColumnIndex =\n    flatColumns.findIndex(column => column.groupByBoundary) + 1\n\n  return [\n    ...nonGroupByColumns.slice(0, groupByBoundaryColumnIndex),\n    ...groupByColumns,\n    ...nonGroupByColumns.slice(groupByBoundaryColumnIndex),\n  ]\n}\n\nconst defaultUserAggregations = {}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatRows,\n    flatColumns,\n    flatHeaders,\n    groupByFn = defaultGroupByFn,\n    manualGroupBy,\n    defaultCanGroupBy,\n    disableGroupBy,\n    aggregations: userAggregations = defaultUserAggregations,\n    hooks,\n    plugins,\n    state: { groupBy },\n    dispatch,\n    autoResetGroupBy = true,\n    manaulGroupBy,\n  } = instance\n\n  ensurePluginOrder(plugins, [], 'useGroupBy', ['useSortBy', 'useExpanded'])\n\n  const getInstance = useGetLatest(instance)\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultGroupBy: defaultColumnGroupBy,\n      disableGroupBy: columnDisableGroupBy,\n    } = column\n    column.isGrouped = groupBy.includes(id)\n    column.groupedIndex = groupBy.indexOf(id)\n\n    column.canGroupBy = accessor\n      ? getFirstDefined(\n          columnDisableGroupBy === true ? false : undefined,\n          disableGroupBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultColumnGroupBy, defaultCanGroupBy, false)\n\n    if (column.canGroupBy) {\n      column.toggleGroupBy = () => toggleGroupBy(column.id)\n    }\n\n    column.Aggregated = column.Aggregated || column.Cell\n  })\n\n  const toggleGroupBy = (columnId, toggle) => {\n    dispatch({ type: actions.toggleGroupBy, columnId, toggle })\n  }\n\n  const getGroupByTogglePropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getGroupByToggleProps'\n  )\n\n  flatHeaders.forEach(header => {\n    header.getGroupByToggleProps = makePropGetter(\n      getGroupByTogglePropsHooks(),\n      getInstance(),\n      header\n    )\n  })\n\n  hooks.prepareRow.push(row => {\n    row.cells.forEach(cell => {\n      // Grouped cells are in the groupBy and the pivot cell for the row\n      cell.isGrouped = cell.column.isGrouped && cell.column.id === row.groupByID\n      // Repeated cells are any columns in the groupBy that are not grouped\n      cell.isRepeatedValue = !cell.isGrouped && cell.column.isGrouped\n      // Aggregated cells are not grouped, not repeated, but still have subRows\n      cell.isAggregated =\n        !cell.isGrouped && !cell.isRepeatedValue && row.canExpand\n    })\n  })\n\n  const [groupedRows, groupedFlatRows] = React.useMemo(() => {\n    if (manualGroupBy || !groupBy.length) {\n      return [rows, flatRows]\n    }\n\n    // Find the columns that can or are aggregating\n    // Uses each column to aggregate rows into a single value\n    const aggregateRowsToValues = (rows, isAggregated) => {\n      const values = {}\n\n      flatColumns.forEach(column => {\n        // Don't aggregate columns that are in the groupBy\n        if (groupBy.includes(column.id)) {\n          values[column.id] = rows[0] ? rows[0].values[column.id] : null\n          return\n        }\n\n        const columnValues = rows.map(d => d.values[column.id])\n\n        let aggregator = column.aggregate\n\n        if (Array.isArray(aggregator)) {\n          if (aggregator.length !== 2) {\n            console.info({ column })\n            throw new Error(\n              `React Table: Complex aggregators must have 2 values, eg. aggregate: ['sum', 'count']. More info above...`\n            )\n          }\n          if (isAggregated) {\n            aggregator = aggregator[1]\n          } else {\n            aggregator = aggregator[0]\n          }\n        }\n\n        let aggregateFn =\n          typeof aggregator === 'function'\n            ? aggregator\n            : userAggregations[aggregator] || aggregations[aggregator]\n\n        if (aggregateFn) {\n          values[column.id] = aggregateFn(columnValues, rows, isAggregated)\n        } else if (aggregator) {\n          console.info({ column })\n          throw new Error(\n            `React Table: Invalid aggregate option for column listed above`\n          )\n        } else {\n          values[column.id] = null\n        }\n      })\n      return values\n    }\n\n    let groupedFlatRows = []\n\n    // Recursively group the data\n    const groupRecursively = (rows, depth = 0, parentPath = []) => {\n      // This is the last level, just return the rows\n      if (depth >= groupBy.length) {\n        rows.forEach(row => {\n          row.path = [...parentPath, ...row.path]\n        })\n        groupedFlatRows = groupedFlatRows.concat(rows)\n        return rows\n      }\n\n      const columnId = groupBy[depth]\n\n      // Group the rows together for this level\n      let groupedRows = groupByFn(rows, columnId)\n\n      // Recurse to sub rows before aggregation\n      groupedRows = Object.entries(groupedRows).map(\n        ([groupByVal, subRows], index) => {\n          const path = [...parentPath, `${columnId}:${groupByVal}`]\n\n          subRows = groupRecursively(subRows, depth + 1, path)\n\n          const values = aggregateRowsToValues(subRows, depth < groupBy.length)\n\n          const row = {\n            isAggregated: true,\n            groupByID: columnId,\n            groupByVal,\n            values,\n            subRows,\n            depth,\n            index,\n            path,\n          }\n\n          groupedFlatRows.push(row)\n\n          return row\n        }\n      )\n\n      return groupedRows\n    }\n\n    const groupedRows = groupRecursively(rows)\n\n    // Assign the new data\n    return [groupedRows, groupedFlatRows]\n  }, [\n    manualGroupBy,\n    groupBy,\n    rows,\n    flatRows,\n    flatColumns,\n    userAggregations,\n    groupByFn,\n  ])\n\n  const getAutoResetGroupBy = useGetLatest(autoResetGroupBy)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetGroupBy()) {\n      dispatch({ type: actions.resetGroupBy })\n    }\n  }, [dispatch, manaulGroupBy ? null : data])\n\n  Object.assign(instance, {\n    groupedRows,\n    groupedFlatRows,\n    toggleGroupBy,\n    rows: groupedRows,\n    flatRows: groupedFlatRows,\n    preGroupedRows: rows,\n  })\n}\n","const reSplitAlphaNumeric = /([0-9]+)/gm\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nexport const alphanumeric = (rowA, rowB, columnId) => {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n  // Force to strings (or \"\" for unsupported types)\n  a = toString(a)\n  b = toString(b)\n\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  a = a.split(reSplitAlphaNumeric).filter(Boolean)\n  b = b.split(reSplitAlphaNumeric).filter(Boolean)\n\n  // While\n  while (a.length && b.length) {\n    let aa = a.shift()\n    let bb = b.shift()\n\n    const an = parseInt(aa, 10)\n    const bn = parseInt(bb, 10)\n\n    const combo = [an, bn].sort()\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1\n      }\n      if (bb > aa) {\n        return -1\n      }\n      continue\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1\n    }\n    if (bn > an) {\n      return -1\n    }\n  }\n\n  return a.length - b.length\n}\n\nexport function datetime(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  a = a.getTime()\n  b = b.getTime()\n\n  return compareBasic(a, b)\n}\n\nexport function basic(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  return compareBasic(a, b)\n}\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1\n}\n\nfunction getRowValueByColumnID(row, columnId) {\n  return row.values[columnId]\n}\n\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return ''\n    }\n    return String(a)\n  }\n  if (typeof a === 'string') {\n    return a\n  }\n  return ''\n}\n","import React from 'react'\n\nimport {\n  actions,\n  ensurePluginOrder,\n  defaultColumn,\n  makePropGetter,\n  useConsumeHookGetter,\n  getFirstDefined,\n  defaultOrderByFn,\n  isFunction,\n  useGetLatest,\n  useMountedLayoutEffect,\n} from '../utils'\n\nimport * as sortTypes from '../sortTypes'\n\n// Actions\nactions.resetSortBy = 'resetSortBy'\nactions.toggleSortBy = 'toggleSortBy'\nactions.clearSortBy = 'clearSortBy'\n\ndefaultColumn.sortType = 'alphanumeric'\ndefaultColumn.sortDescFirst = false\n\nexport const useSortBy = hooks => {\n  hooks.getSortByToggleProps = [defaultGetSortByToggleProps]\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseSortBy.pluginName = 'useSortBy'\n\nconst defaultGetSortByToggleProps = (props, instance, column) => {\n  const { isMultiSortEvent = e => e.shiftKey } = instance\n\n  return [\n    props,\n    {\n      onClick: column.canSort\n        ? e => {\n            e.persist()\n            column.toggleSortBy(\n              undefined,\n              !instance.disableMultiSort && isMultiSortEvent(e)\n            )\n          }\n        : undefined,\n      style: {\n        cursor: column.canSort ? 'pointer' : undefined,\n      },\n      title: column.canSort ? 'Toggle SortBy' : undefined,\n    },\n  ]\n}\n\n// Reducer\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      sortBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSortBy) {\n    return {\n      ...state,\n      sortBy: [],\n    }\n  }\n\n  if (action.type === actions.clearSortBy) {\n    const { sortBy } = state\n    const newSortBy = sortBy.filter(d => d.id !== action.columnId)\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n\n  if (action.type === actions.toggleSortBy) {\n    const { columnId, desc, multi } = action\n\n    const {\n      flatColumns,\n      disableMultiSort,\n      disableSortRemove,\n      disableMultiRemove,\n      maxMultiSortColCount = Number.MAX_SAFE_INTEGER,\n    } = instanceRef.current\n\n    const { sortBy } = state\n\n    // Find the column for this columnId\n    const column = flatColumns.find(d => d.id === columnId)\n    const { sortDescFirst } = column\n\n    // Find any existing sortBy for this column\n    const existingSortBy = sortBy.find(d => d.id === columnId)\n    const existingIndex = sortBy.findIndex(d => d.id === columnId)\n    const hasDescDefined = typeof desc !== 'undefined' && desc !== null\n\n    let newSortBy = []\n\n    // What should we do with this sort action?\n    let sortAction\n\n    if (!disableMultiSort && multi) {\n      if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'add'\n      }\n    } else {\n      // Normal mode\n      if (existingIndex !== sortBy.length - 1) {\n        sortAction = 'replace'\n      } else if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'replace'\n      }\n    }\n\n    // Handle toggle states that will remove the sortBy\n    if (\n      sortAction === 'toggle' && // Must be toggling\n      !disableSortRemove && // If disableSortRemove, disable in general\n      !hasDescDefined && // Must not be setting desc\n      (multi ? !disableMultiRemove : true) && // If multi, don't allow if disableMultiRemove\n      ((existingSortBy && // Finally, detect if it should indeed be removed\n        existingSortBy.desc &&\n        !sortDescFirst) ||\n        (!existingSortBy.desc && sortDescFirst))\n    ) {\n      sortAction = 'remove'\n    }\n\n    if (sortAction === 'replace') {\n      newSortBy = [\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n    } else if (sortAction === 'add') {\n      newSortBy = [\n        ...sortBy,\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n      // Take latest n columns\n      newSortBy.splice(0, newSortBy.length - maxMultiSortColCount)\n    } else if (sortAction === 'toggle') {\n      // This flips (or sets) the\n      newSortBy = sortBy.map(d => {\n        if (d.id === columnId) {\n          return {\n            ...d,\n            desc: hasDescDefined ? desc : !existingSortBy.desc,\n          }\n        }\n        return d\n      })\n    } else if (sortAction === 'remove') {\n      newSortBy = sortBy.filter(d => d.id !== columnId)\n    }\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatColumns,\n    orderByFn = defaultOrderByFn,\n    sortTypes: userSortTypes,\n    manualSortBy,\n    defaultCanSort,\n    disableSortBy,\n    flatHeaders,\n    state: { sortBy },\n    dispatch,\n    plugins,\n    autoResetSortBy = true,\n  } = instance\n\n  ensurePluginOrder(plugins, ['useFilters'], 'useSortBy', [])\n\n  // Updates sorting based on a columnId, desc flag and multi flag\n  const toggleSortBy = (columnId, desc, multi) => {\n    dispatch({ type: actions.toggleSortBy, columnId, desc, multi })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const getInstance = useGetLatest(instance)\n\n  const getSortByTogglePropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getSortByToggleProps'\n  )\n\n  // Add the getSortByToggleProps method to columns and headers\n  flatHeaders.forEach(column => {\n    const {\n      accessor,\n      canSort: defaultColumnCanSort,\n      disableSortBy: columnDisableSortBy,\n      id,\n    } = column\n\n    const canSort = accessor\n      ? getFirstDefined(\n          columnDisableSortBy === true ? false : undefined,\n          disableSortBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultCanSort, defaultColumnCanSort, false)\n\n    column.canSort = canSort\n\n    if (column.canSort) {\n      column.toggleSortBy = (desc, multi) =>\n        toggleSortBy(column.id, desc, multi)\n\n      column.clearSortBy = () => {\n        dispatch({ type: actions.clearSortBy, columnId: column.id })\n      }\n    }\n\n    column.getSortByToggleProps = makePropGetter(\n      getSortByTogglePropsHooks(),\n      getInstance(),\n      column\n    )\n\n    const columnSort = sortBy.find(d => d.id === id)\n    column.isSorted = !!columnSort\n    column.sortedIndex = sortBy.findIndex(d => d.id === id)\n    column.isSortedDesc = column.isSorted ? columnSort.desc : undefined\n  })\n\n  const sortedRows = React.useMemo(() => {\n    if (manualSortBy || !sortBy.length) {\n      return rows\n    }\n\n    // Filter out sortBys that correspond to non existing columns\n    const availableSortBy = sortBy.filter(sort =>\n      flatColumns.find(col => col.id === sort.id)\n    )\n\n    const sortData = rows => {\n      // Use the orderByFn to compose multiple sortBy's together.\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = orderByFn(\n        rows,\n        availableSortBy.map(sort => {\n          // Support custom sorting methods for each column\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (!column) {\n            throw new Error(\n              `React-Table: Could not find a column with id: ${sort.id} while sorting`\n            )\n          }\n\n          const { sortType } = column\n\n          // Look up sortBy functions in this order:\n          // column function\n          // column string lookup on user sortType\n          // column string lookup on built-in sortType\n          // default function\n          // default string lookup on user sortType\n          // default string lookup on built-in sortType\n          const sortMethod =\n            isFunction(sortType) ||\n            (userSortTypes || {})[sortType] ||\n            sortTypes[sortType]\n\n          if (!sortMethod) {\n            throw new Error(\n              `React-Table: Could not find a valid sortType of '${sortType}' for column '${sort.id}'.`\n            )\n          }\n\n          // Return the correct sortFn.\n          // This function should always return in ascending order\n          return (a, b) => sortMethod(a, b, sort.id)\n        }),\n        // Map the directions\n        availableSortBy.map(sort => {\n          // Detect and use the sortInverted option\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (column && column.sortInverted) {\n            return sort.desc\n          }\n\n          return !sort.desc\n        })\n      )\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        if (!row.subRows || row.subRows.length <= 1) {\n          return\n        }\n        row.subRows = sortData(row.subRows)\n      })\n\n      return sortedData\n    }\n\n    return sortData(rows)\n  }, [manualSortBy, sortBy, rows, flatColumns, orderByFn, userSortTypes])\n\n  const getAutoResetSortBy = useGetLatest(autoResetSortBy)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetSortBy()) {\n      dispatch({ type: actions.resetSortBy })\n    }\n  }, [manualSortBy ? null : data])\n\n  Object.assign(instance, {\n    toggleSortBy,\n    preSortedRows: rows,\n    sortedRows,\n    rows: sortedRows,\n  })\n}\n","import React from 'react'\n\n//\n\nimport {\n  actions,\n  ensurePluginOrder,\n  expandRows,\n  functionalUpdate,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\nconst pluginName = 'usePagination'\n\n// Actions\nactions.resetPage = 'resetPage'\nactions.gotoPage = 'gotoPage'\nactions.setPageSize = 'setPageSize'\n\nexport const usePagination = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nusePagination.pluginName = pluginName\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      pageSize: 10,\n      pageIndex: 0,\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetPage) {\n    return {\n      ...state,\n      pageIndex: 0,\n    }\n  }\n\n  if (action.type === actions.gotoPage) {\n    const { pageCount } = instanceRef.current\n    const newPageIndex = functionalUpdate(action.pageIndex, state.pageIndex)\n\n    if (newPageIndex < 0 || newPageIndex > pageCount - 1) {\n      return state\n    }\n    return {\n      ...state,\n      pageIndex: newPageIndex,\n    }\n  }\n\n  if (action.type === actions.setPageSize) {\n    const { pageSize } = action\n    const topRowIndex = state.pageSize * state.pageIndex\n    const pageIndex = Math.floor(topRowIndex / pageSize)\n\n    return {\n      ...state,\n      pageIndex,\n      pageSize,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    rows,\n    autoResetPage = true,\n    manualExpandedKey = 'expanded',\n    plugins,\n    pageCount: userPageCount,\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    state: { pageSize, pageIndex, expanded, filters, groupBy, sortBy },\n    dispatch,\n    data,\n    manualPagination,\n    manualFilters,\n    manualGroupBy,\n    manualSortBy,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy', 'useExpanded'],\n    'usePagination',\n    []\n  )\n\n  const getAutoResetPage = useGetLatest(autoResetPage)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetPage()) {\n      dispatch({ type: actions.resetPage })\n    }\n  }, [\n    dispatch,\n    manualPagination ? null : data,\n    manualPagination || manualFilters ? null : filters,\n    manualPagination || manualGroupBy ? null : groupBy,\n    manualPagination || manualSortBy ? null : sortBy,\n  ])\n\n  const pageCount = manualPagination\n    ? userPageCount\n    : Math.ceil(rows.length / pageSize)\n\n  const pageOptions = React.useMemo(\n    () => (pageCount > 0 ? [...new Array(pageCount)].map((d, i) => i) : []),\n    [pageCount]\n  )\n\n  const page = React.useMemo(() => {\n    let page\n\n    if (manualPagination) {\n      page = rows\n    } else {\n      const pageStart = pageSize * pageIndex\n      const pageEnd = pageStart + pageSize\n\n      page = rows.slice(pageStart, pageEnd)\n    }\n\n    if (paginateExpandedRows) {\n      return page\n    }\n\n    return expandRows(page, { manualExpandedKey, expanded, expandSubRows })\n  }, [\n    expandSubRows,\n    expanded,\n    manualExpandedKey,\n    manualPagination,\n    pageIndex,\n    pageSize,\n    paginateExpandedRows,\n    rows,\n  ])\n\n  const canPreviousPage = pageIndex > 0\n  const canNextPage = pageCount === -1 || pageIndex < pageCount - 1\n\n  const gotoPage = React.useCallback(\n    pageIndex => {\n      dispatch({ type: actions.gotoPage, pageIndex })\n    },\n    [dispatch]\n  )\n\n  const previousPage = React.useCallback(() => {\n    return gotoPage(old => old - 1)\n  }, [gotoPage])\n\n  const nextPage = React.useCallback(() => {\n    return gotoPage(old => old + 1)\n  }, [gotoPage])\n\n  const setPageSize = React.useCallback(\n    pageSize => {\n      dispatch({ type: actions.setPageSize, pageSize })\n    },\n    [dispatch]\n  )\n\n  Object.assign(instance, {\n    pageOptions,\n    pageCount,\n    page,\n    canPreviousPage,\n    canNextPage,\n    gotoPage,\n    previousPage,\n    nextPage,\n    setPageSize,\n  })\n}\n","import React from 'react'\n\nimport {\n  actions,\n  makePropGetter,\n  ensurePluginOrder,\n  useGetLatest,\n  useMountedLayoutEffect,\n  useConsumeHookGetter,\n} from '../utils'\n\nconst pluginName = 'useRowSelect'\n\n// Actions\nactions.resetSelectedRows = 'resetSelectedRows'\nactions.toggleRowSelectedAll = 'toggleRowSelectedAll'\nactions.toggleRowSelected = 'toggleRowSelected'\n\nexport const useRowSelect = hooks => {\n  hooks.getToggleRowSelectedProps = [defaultGetToggleRowSelectedProps]\n  hooks.getToggleAllRowsSelectedProps = [defaultGetToggleAllRowsSelectedProps]\n  hooks.stateReducers.push(reducer)\n  hooks.useRows.push(useRows)\n  hooks.useInstance.push(useInstance)\n}\n\nuseRowSelect.pluginName = pluginName\n\nconst defaultGetToggleRowSelectedProps = (props, instance, row) => {\n  const { manualRowSelectedKey = 'isSelected' } = instance\n  let checked = false\n\n  if (row.original && row.original[manualRowSelectedKey]) {\n    checked = true\n  } else {\n    checked = row.isSelected\n  }\n\n  return [\n    props,\n    {\n      onChange: e => {\n        row.toggleRowSelected(e.target.checked)\n      },\n      style: {\n        cursor: 'pointer',\n      },\n      checked,\n      title: 'Toggle Row Selected',\n    },\n  ]\n}\n\nconst defaultGetToggleAllRowsSelectedProps = (props, instance) => [\n  props,\n  {\n    onChange: e => {\n      instance.toggleRowSelectedAll(e.target.checked)\n    },\n    style: {\n      cursor: 'pointer',\n    },\n    checked: instance.isAllRowsSelected,\n    title: 'Toggle All Rows Selected',\n  },\n]\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      selectedRowPaths: new Set(),\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSelectedRows) {\n    return {\n      ...state,\n      selectedRowPaths: new Set(),\n    }\n  }\n\n  if (action.type === actions.toggleRowSelectedAll) {\n    const { selected } = action\n    const { isAllRowsSelected, flatRowPaths } = instanceRef.current\n\n    const selectAll =\n      typeof selected !== 'undefined' ? selected : !isAllRowsSelected\n\n    return {\n      ...state,\n      selectedRowPaths: selectAll ? new Set(flatRowPaths) : new Set(),\n    }\n  }\n\n  if (action.type === actions.toggleRowSelected) {\n    const { path, selected } = action\n    const { flatRowPaths } = instanceRef.current\n\n    const key = path.join('.')\n    const childRowPrefixKey = [key, '.'].join('')\n\n    // Join the paths of deep rows\n    // to make a key, then manage all of the keys\n    // in a flat object\n    const exists = state.selectedRowPaths.has(key)\n    const shouldExist = typeof set !== 'undefined' ? selected : !exists\n\n    let newSelectedRowPaths = new Set(state.selectedRowPaths)\n\n    if (!exists && shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRowPaths.add(rowPath)\n        }\n      })\n    } else if (exists && !shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRowPaths.delete(rowPath)\n        }\n      })\n    } else {\n      return state\n    }\n\n    const updateParentRow = (selectedRowPaths, path) => {\n      const parentPath = path.slice(0, path.length - 1)\n      const parentKey = parentPath.join('.')\n      const selected =\n        flatRowPaths.filter(rowPath => {\n          const path = rowPath\n          return (\n            path !== parentKey &&\n            path.startsWith(parentKey) &&\n            !selectedRowPaths.has(path)\n          )\n        }).length === 0\n      if (selected) {\n        selectedRowPaths.add(parentKey)\n      } else {\n        selectedRowPaths.delete(parentKey)\n      }\n      if (parentPath.length > 1) updateParentRow(selectedRowPaths, parentPath)\n    }\n\n    // If the row is a subRow update\n    // its parent row to reflect changes\n    if (path.length > 1) updateParentRow(newSelectedRowPaths, path)\n\n    return {\n      ...state,\n      selectedRowPaths: newSelectedRowPaths,\n    }\n  }\n}\n\nfunction useRows(rows, instance) {\n  const {\n    state: { selectedRowPaths },\n  } = instance\n\n  instance.selectedFlatRows = React.useMemo(() => {\n    const selectedFlatRows = []\n\n    rows.forEach(row => {\n      row.isSelected = getRowIsSelected(row, selectedRowPaths)\n\n      if (row.isSelected) {\n        selectedFlatRows.push(row)\n      }\n    })\n\n    return selectedFlatRows\n  }, [rows, selectedRowPaths])\n\n  return rows\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    hooks,\n    plugins,\n    flatRows,\n    autoResetSelectedRows = true,\n    state: { selectedRowPaths },\n    dispatch,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy'],\n    'useRowSelect',\n    []\n  )\n\n  const flatRowPaths = flatRows.map(d => d.path.join('.'))\n\n  let isAllRowsSelected = !!flatRowPaths.length && !!selectedRowPaths.size\n\n  if (isAllRowsSelected) {\n    if (flatRowPaths.some(d => !selectedRowPaths.has(d))) {\n      isAllRowsSelected = false\n    }\n  }\n\n  const getAutoResetSelectedRows = useGetLatest(autoResetSelectedRows)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetSelectedRows()) {\n      dispatch({ type: actions.resetSelectedRows })\n    }\n  }, [dispatch, data])\n\n  const toggleRowSelectedAll = selected =>\n    dispatch({ type: actions.toggleRowSelectedAll, selected })\n\n  const toggleRowSelected = (path, selected) =>\n    dispatch({ type: actions.toggleRowSelected, path, selected })\n\n  // use reference to avoid memory leak in #1608\n  const getInstance = useGetLatest(instance)\n\n  const getToggleAllRowsSelectedPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getToggleAllRowsSelectedProps'\n  )\n\n  const getToggleAllRowsSelectedProps = makePropGetter(\n    getToggleAllRowsSelectedPropsHooks(),\n    getInstance()\n  )\n\n  const getToggleRowSelectedPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getToggleRowSelectedProps'\n  )\n\n  hooks.prepareRow.push(row => {\n    row.toggleRowSelected = set => toggleRowSelected(row.path, set)\n\n    row.getToggleRowSelectedProps = makePropGetter(\n      getToggleRowSelectedPropsHooks(),\n      getInstance(),\n      row\n    )\n  })\n\n  Object.assign(instance, {\n    flatRowPaths,\n    toggleRowSelected,\n    toggleRowSelectedAll,\n    getToggleAllRowsSelectedProps,\n    isAllRowsSelected,\n  })\n}\n\nfunction getRowIsSelected(row, selectedRowPaths) {\n  if (row.isAggregated) {\n    return row.subRows.every(subRow =>\n      getRowIsSelected(subRow, selectedRowPaths)\n    )\n  }\n\n  return selectedRowPaths.has(row.path.join('.'))\n}\n","import React from 'react'\n\nimport {\n  actions,\n  functionalUpdate,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\n// Actions\nactions.setRowState = 'setRowState'\nactions.resetRowState = 'resetRowState'\n\nexport const useRowState = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseRowState.pluginName = 'useRowState'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      rowState: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetRowState) {\n    return {\n      ...state,\n      rowState: {},\n    }\n  }\n\n  if (action.type === actions.setRowState) {\n    const { path, value } = action\n\n    const pathKey = path.join('.')\n\n    return {\n      ...state,\n      rowState: {\n        ...state.rowState,\n        [pathKey]: functionalUpdate(value, state.rowState[pathKey] || {}),\n      },\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    hooks,\n    initialRowStateAccessor,\n    autoResetRowState = true,\n    state: { rowState },\n    data,\n    dispatch,\n  } = instance\n\n  const setRowState = React.useCallback(\n    (path, value, columnId) =>\n      dispatch({\n        type: actions.setRowState,\n        path,\n        value,\n        columnId,\n      }),\n    [dispatch]\n  )\n\n  const setCellState = React.useCallback(\n    (rowPath, columnId, value) => {\n      return setRowState(\n        rowPath,\n        old => {\n          return {\n            ...old,\n            cellState: {\n              ...old.cellState,\n              [columnId]: functionalUpdate(\n                value,\n                (old.cellState || {})[columnId] || {}\n              ),\n            },\n          }\n        },\n        columnId\n      )\n    },\n    [setRowState]\n  )\n\n  hooks.prepareRow.push(row => {\n    const pathKey = row.path.join('.')\n\n    if (row.original) {\n      row.state =\n        (typeof rowState[pathKey] !== 'undefined'\n          ? rowState[pathKey]\n          : initialRowStateAccessor && initialRowStateAccessor(row)) || {}\n\n      row.setState = updater => {\n        return setRowState(row.path, updater)\n      }\n\n      row.cells.forEach(cell => {\n        cell.state = row.state.cellState || {}\n\n        cell.setState = updater => {\n          return setCellState(row.path, cell.column.id, updater)\n        }\n      })\n    }\n  })\n\n  const getAutoResetRowState = useGetLatest(autoResetRowState)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetRowState()) {\n      dispatch({ type: actions.resetRowState })\n    }\n  }, [data])\n\n  Object.assign(instance, {\n    setRowState,\n    setCellState,\n  })\n}\n","import React from 'react'\n\nimport { functionalUpdate, actions } from '../utils'\n\n// Actions\nactions.resetColumnOrder = 'resetColumnOrder'\nactions.setColumnOrder = 'setColumnOrder'\n\nexport const useColumnOrder = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.flatColumnsDeps.push((deps, instance) => {\n    return [...deps, instance.state.columnOrder]\n  })\n  hooks.flatColumns.push(flatColumns)\n  hooks.useInstance.push(useInstance)\n}\n\nuseColumnOrder.pluginName = 'useColumnOrder'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      columnOrder: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetColumnOrder) {\n    return {\n      ...state,\n      columnOrder: [],\n    }\n  }\n\n  if (action.type === actions.setColumnOrder) {\n    return {\n      ...state,\n      columnOrder: functionalUpdate(action.columnOrder, state.columnOrder),\n    }\n  }\n}\n\nfunction flatColumns(columns, instance) {\n  const {\n    state: { columnOrder },\n  } = instance\n\n  // If there is no order, return the normal columns\n  if (!columnOrder || !columnOrder.length) {\n    return columns\n  }\n\n  const columnOrderCopy = [...columnOrder]\n\n  // If there is an order, make a copy of the columns\n  const columnsCopy = [...columns]\n\n  // And make a new ordered array of the columns\n  const columnsInOrder = []\n\n  // Loop over the columns and place them in order into the new array\n  while (columnsCopy.length && columnOrderCopy.length) {\n    const targetColumnId = columnOrderCopy.shift()\n    const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId)\n    if (foundIndex > -1) {\n      columnsInOrder.push(columnsCopy.splice(foundIndex, 1)[0])\n    }\n  }\n\n  // If there are any columns left, add them to the end\n  return [...columnsInOrder, ...columnsCopy]\n}\n\nfunction useInstance(instance) {\n  const { dispatch } = instance\n\n  instance.setColumnOrder = React.useCallback(\n    columnOrder => {\n      return dispatch({ type: actions.setColumnOrder, columnOrder })\n    },\n    [dispatch]\n  )\n}\n","import {\n  actions,\n  defaultColumn,\n  getFirstDefined,\n  makePropGetter,\n  useGetLatest,\n} from '../utils'\nimport { useConsumeHookGetter } from '../publicUtils'\n\n// Default Column\ndefaultColumn.canResize = true\n\n// Actions\nactions.columnStartResizing = 'columnStartResizing'\nactions.columnResizing = 'columnResizing'\nactions.columnDoneResizing = 'columnDoneResizing'\n\nexport const useResizeColumns = hooks => {\n  hooks.getResizerProps = [defaultGetResizerProps]\n  hooks.stateReducers.push(reducer)\n  hooks.useInstanceBeforeDimensions.push(useInstanceBeforeDimensions)\n}\n\nconst defaultGetResizerProps = (props, instance, header) => {\n  const { dispatch } = instance\n\n  const onResizeStart = (e, header) => {\n    let isTouchEvent = false\n    if (e.type === 'touchstart') {\n      // lets not respond to multiple touches (e.g. 2 or 3 fingers)\n      if (e.touches && e.touches.length > 1) {\n        return\n      }\n      isTouchEvent = true\n    }\n    const headersToResize = getLeafHeaders(header)\n    const headerIdWidths = headersToResize.map(d => [d.id, d.totalWidth])\n\n    const clientX = isTouchEvent ? Math.round(e.touches[0].clientX) : e.clientX\n\n    const dispatchMove = clientXPos => {\n      dispatch({ type: actions.columnResizing, clientX: clientXPos })\n    }\n    const dispatchEnd = () => dispatch({ type: actions.columnDoneResizing })\n\n    const handlersAndEvents = {\n      mouse: {\n        moveEvent: 'mousemove',\n        moveHandler: e => dispatchMove(e.clientX),\n        upEvent: 'mouseup',\n        upHandler: e => {\n          document.removeEventListener(\n            'mousemove',\n            handlersAndEvents.mouse.moveHandler\n          )\n          document.removeEventListener(\n            'mouseup',\n            handlersAndEvents.mouse.upHandler\n          )\n          dispatchEnd()\n        },\n      },\n      touch: {\n        moveEvent: 'touchmove',\n        moveHandler: e => {\n          if (e.cancelable) {\n            e.preventDefault()\n            e.stopPropagation()\n          }\n          dispatchMove(e.touches[0].clientX)\n          return false\n        },\n        upEvent: 'touchend',\n        upHandler: e => {\n          document.removeEventListener(\n            handlersAndEvents.touch.moveEvent,\n            handlersAndEvents.touch.moveHandler\n          )\n          document.removeEventListener(\n            handlersAndEvents.touch.upEvent,\n            handlersAndEvents.touch.moveHandler\n          )\n          dispatchEnd()\n        },\n      },\n    }\n\n    const events = isTouchEvent\n      ? handlersAndEvents.touch\n      : handlersAndEvents.mouse\n    document.addEventListener(events.moveEvent, events.moveHandler, {\n      passive: false,\n    })\n    document.addEventListener(events.upEvent, events.upHandler, {\n      passive: false,\n    })\n\n    dispatch({\n      type: actions.columnStartResizing,\n      columnId: header.id,\n      columnWidth: header.totalWidth,\n      headerIdWidths,\n      clientX,\n    })\n  }\n\n  return [\n    props,\n    {\n      onMouseDown: e => e.persist() || onResizeStart(e, header),\n      onTouchStart: e => e.persist() || onResizeStart(e, header),\n      style: {\n        cursor: 'ew-resize',\n      },\n      draggable: false,\n    },\n  ]\n}\n\nuseResizeColumns.pluginName = 'useResizeColumns'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      columnResizing: {\n        columnWidths: {},\n      },\n      ...state,\n    }\n  }\n\n  if (action.type === actions.columnStartResizing) {\n    const { clientX, columnId, columnWidth, headerIdWidths } = action\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX: clientX,\n        headerIdWidths,\n        columnWidth,\n        isResizingColumn: columnId,\n      },\n    }\n  }\n\n  if (action.type === actions.columnResizing) {\n    const { clientX } = action\n    const { startX, columnWidth, headerIdWidths } = state.columnResizing\n\n    const deltaX = clientX - startX\n    const percentageDeltaX = deltaX / columnWidth\n\n    const newColumnWidths = {}\n\n    headerIdWidths.forEach(([headerId, headerWidth]) => {\n      newColumnWidths[headerId] = Math.max(\n        headerWidth + headerWidth * percentageDeltaX,\n        0\n      )\n    })\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        columnWidths: {\n          ...state.columnResizing.columnWidths,\n          ...newColumnWidths,\n        },\n      },\n    }\n  }\n\n  if (action.type === actions.columnDoneResizing) {\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX: null,\n        isResizingColumn: null,\n      },\n    }\n  }\n}\n\nconst useInstanceBeforeDimensions = instance => {\n  const {\n    flatHeaders,\n    disableResizing,\n    hooks: { getHeaderProps },\n    state: { columnResizing },\n  } = instance\n\n  getHeaderProps.push({\n    style: {\n      position: 'relative',\n    },\n  })\n\n  const getInstance = useGetLatest(instance)\n\n  const getResizerPropsHooks = useConsumeHookGetter(\n    getInstance().hooks,\n    'getResizerProps'\n  )\n\n  flatHeaders.forEach(header => {\n    const canResize = getFirstDefined(\n      header.disableResizing === true ? false : undefined,\n      disableResizing === true ? false : undefined,\n      true\n    )\n\n    header.canResize = canResize\n    header.width = columnResizing.columnWidths[header.id] || header.width\n    header.isResizing = columnResizing.isResizingColumn === header.id\n\n    if (canResize) {\n      header.getResizerProps = makePropGetter(\n        getResizerPropsHooks(),\n        getInstance(),\n        header\n      )\n    }\n  })\n}\n\nfunction getLeafHeaders(header) {\n  const leafHeaders = []\n  const recurseHeader = header => {\n    if (header.columns && header.columns.length) {\n      header.columns.map(recurseHeader)\n    }\n    leafHeaders.push(header)\n  }\n  recurseHeader(header)\n  return leafHeaders\n}\n","// Calculating column/cells widths\nconst cellStyles = {\n  position: 'absolute',\n  top: 0,\n}\n\nexport const useAbsoluteLayout = hooks => {\n  hooks.getTableBodyProps.push(getRowStyles)\n  hooks.getRowProps.push(getRowStyles)\n  hooks.getHeaderGroupProps.push(getRowStyles)\n\n  hooks.getHeaderProps.push((props, instance, header) => [\n    props,\n    {\n      style: {\n        ...cellStyles,\n        left: `${header.totalLeft}px`,\n        width: `${header.totalWidth}px`,\n      },\n    },\n  ])\n\n  hooks.getCellProps.push((props, instance, cell) => [\n    props,\n    {\n      style: {\n        ...cellStyles,\n        left: `${cell.column.totalLeft}px`,\n        width: `${cell.column.totalWidth}px`,\n      },\n    },\n  ])\n}\n\nuseAbsoluteLayout.pluginName = 'useAbsoluteLayout'\n\nconst getRowStyles = (props, instance) => [\n  props,\n  {\n    style: {\n      position: 'relative',\n      width: `${instance.totalColumnsWidth}px`,\n    },\n  },\n]\n","const cellStyles = {\n  display: 'inline-block',\n  boxSizing: 'border-box',\n}\n\nconst getRowStyles = (props, instance) => [\n  props,\n  {\n    style: {\n      display: 'flex',\n      width: `${instance.totalColumnsWidth}px`,\n    },\n  },\n]\n\nexport const useBlockLayout = hooks => {\n  hooks.getRowProps.push(getRowStyles)\n  hooks.getHeaderGroupProps.push(getRowStyles)\n\n  hooks.getHeaderProps.push((props, instance, header) => [\n    props,\n    {\n      style: {\n        ...cellStyles,\n        width: `${header.totalWidth}px`,\n      },\n    },\n  ])\n\n  hooks.getCellProps.push((props, instance, cell) => [\n    props,\n    {\n      style: {\n        ...cellStyles,\n        width: `${cell.column.totalWidth}px`,\n      },\n    },\n  ])\n}\n\nuseBlockLayout.pluginName = 'useBlockLayout'\n"],"names":["actions","init","defaultColumn","Cell","cell","value","String","width","minWidth","maxWidth","Number","MAX_SAFE_INTEGER","defaultOrderByFn","arr","funcs","dirs","sort","rowA","rowB","i","length","sortFn","desc","sortInt","index","defaultGroupByFn","rows","columnId","reduce","prev","row","resKey","values","Array","isArray","push","mergeProps","propList","props","next","style","className","rest","filter","Boolean","join","handlePropGetter","prevProps","userProps","meta","makePropGetter","hooks","reduceHooks","initial","args","nextValue","process","env","NODE_ENV","console","info","Error","loopHooks","forEach","hook","ensurePluginOrder","plugins","befores","pluginName","afters","pluginIndex","findIndex","plugin","before","beforeIndex","after","afterIndex","functionalUpdate","updater","old","useGetLatest","obj","ref","React","useRef","current","useCallback","safeUseLayoutEffect","document","useLayoutEffect","useEffect","useMountedLayoutEffect","fn","deps","mountedRef","useAsyncDebounce","defaultFn","defaultWait","debounceRef","debounce","wait","promise","Promise","resolve","reject","timeout","clearTimeout","setTimeout","useConsumeHookGetter","hookName","getter","undefined","decorateColumn","column","userDefaultColumn","parent","depth","id","accessor","Header","accessorPath","split","getBy","columns","error","Footer","decorateColumnTree","map","columnIndex","makeHeaderGroups","flatColumns","headerGroups","buildGroup","headerGroup","headers","parentColumns","hasParents","some","col","isFirst","latestParentColumn","reverse","similarParentColumns","d","originalId","placeholderColumn","placeholderOf","includes","totalHeaderCount","sum","header","pathObjCache","Map","path","def","cacheKey","JSON","stringify","pathObj","get","makePathArray","set","val","cursor","pathPart","e","getFirstDefined","flexRender","Comp","isReactComponent","isClassComponent","component","proto","Object","getPrototypeOf","prototype","isFunctionComponent","isFunction","a","flattenBy","childKey","recurse","expandRows","manualExpandedKey","expanded","expandSubRows","expandedRows","handleRow","key","isExpanded","original","canExpand","subRows","reOpenBracket","reCloseBracket","flattenDeep","replace","newArr","defaultGetHeaderProps","instance","colSpan","totalVisibleHeaderCount","defaultGetFooterProps","defaultGetHeaderGroupProps","defaultGetFooterGroupProps","defaultGetRowProps","defaultGetCellProps","makeDefaultPluginHooks","useOptions","stateReducers","columnsDeps","flatColumnsDeps","headerGroupsDeps","useInstanceBeforeDimensions","useInstance","useRows","prepareRow","getTableProps","getTableBodyProps","getHeaderGroupProps","getFooterGroupProps","getHeaderProps","getFooterProps","getRowProps","getCellProps","useFinalInstance","resetHiddenColumns","toggleHideColumn","setHiddenColumns","toggleHideAllColumns","useColumnVisibility","getToggleHiddenProps","defaultGetToggleHiddenProps","getToggleHideAllColumnsProps","defaultGetToggleHideAllColumnsProps","reducer","state","hiddenColumns","onChange","toggleHidden","target","checked","isVisible","title","allColumnsHidden","indeterminate","action","previousState","instanceRef","type","should","shouldAll","handleColumn","parentVisible","subColumn","subHeader","flatHeaders","dispatch","getInstance","getToggleHideAllColumnsPropsHooks","getToggleHiddenPropsHooks","assign","renderErr","defaultInitialState","defaultColumnInstance","defaultReducer","prevState","defaultGetSubRows","defaultGetRowId","defaultUseControlledState","applyDefaults","initialState","getSubRows","getRowId","stateReducer","useControlledState","useTable","getUseOptionsHooks","data","userColumns","getStateReducers","getStateReducer","s","handler","useReducer","reducerState","getColumnsHooks","getColumnsDepsHooks","useMemo","getFlatColumns","getFlatColumnsDeps","getHeaderGroups","getHeaderGroupsDeps","flatRows","accessRow","originalRow","parentPath","rowId","cells","unpreparedAccessWarning","accessedData","all","getUseInstanceBeforeDimensions","totalColumnsWidth","calculateHeaderWidths","getUseInstance","getHeaderPropsHooks","getFooterPropsHooks","render","getHeaderGroupPropsHooks","getFooterGroupPropsHooks","footerGroups","getUseRowsHooks","getPrepareRowHooks","getRowPropsHooks","getCellPropsHooks","getTablePropsHooks","getTableBodyPropsHooks","getUseFinalInstanceHooks","left","sumTotalWidth","subHeaders","totalLeft","totalWidth","Math","min","max","toggleExpandedByPath","resetExpanded","useExpanded","getExpandedToggleProps","defaultGetExpandedToggleProps","onClick","persist","toggleExpanded","exists","shouldExist","newExpanded","Set","add","delete","paginateExpandedRows","autoResetExpanded","getAutoResetExpanded","getExpandedTogglePropsHooks","expandedDepth","findExpandedDepth","preExpandedRows","maxDepth","text","filterValue","rowValue","toLowerCase","autoRemove","exactText","exactTextCase","includesAll","every","exact","equals","between","Infinity","temp","resetFilters","setFilter","setAllFilters","useFilters","filters","userFilterTypes","find","filterMethod","getFilterMethod","filterTypes","newFilter","shouldAutoRemove","remove","newFilters","keys","manualFilters","defaultCanFilter","disableFilters","autoResetFilters","columnDefaultCanFilter","columnDisableFilters","canFilter","filteredRows","filteredFlatRows","filterRows","entries","filteredSoFar","preFilteredRows","warn","nonFilteredColumns","getAutoResetFilters","preFilteredFlatRows","average","round","median","uniqueCount","size","count","resetGroupBy","toggleGroupBy","useGroupBy","getGroupByToggleProps","defaultGetGroupByToggleProps","groupBy","canGroupBy","toggle","resolvedToggle","groupByColumns","g","nonGroupByColumns","groupByBoundaryColumnIndex","groupByBoundary","slice","defaultUserAggregations","groupByFn","manualGroupBy","defaultCanGroupBy","disableGroupBy","aggregations","userAggregations","autoResetGroupBy","manaulGroupBy","defaultColumnGroupBy","defaultGroupBy","columnDisableGroupBy","isGrouped","groupedIndex","indexOf","Aggregated","getGroupByTogglePropsHooks","groupByID","isRepeatedValue","isAggregated","aggregateRowsToValues","columnValues","aggregator","aggregate","aggregateFn","groupedFlatRows","groupRecursively","concat","groupedRows","groupByVal","getAutoResetGroupBy","preGroupedRows","reSplitAlphaNumeric","alphanumeric","getRowValueByColumnID","b","toString","aa","shift","bb","an","parseInt","bn","combo","isNaN","datetime","getTime","compareBasic","basic","resetSortBy","toggleSortBy","clearSortBy","sortType","sortDescFirst","useSortBy","getSortByToggleProps","defaultGetSortByToggleProps","isMultiSortEvent","shiftKey","canSort","disableMultiSort","sortBy","newSortBy","multi","disableSortRemove","disableMultiRemove","maxMultiSortColCount","existingSortBy","existingIndex","hasDescDefined","sortAction","splice","orderByFn","userSortTypes","sortTypes","manualSortBy","defaultCanSort","disableSortBy","autoResetSortBy","getSortByTogglePropsHooks","defaultColumnCanSort","columnDisableSortBy","columnSort","isSorted","sortedIndex","isSortedDesc","sortedRows","availableSortBy","sortData","sortedData","sortMethod","sortInverted","getAutoResetSortBy","preSortedRows","resetPage","gotoPage","setPageSize","usePagination","pageSize","pageIndex","pageCount","newPageIndex","topRowIndex","floor","autoResetPage","userPageCount","manualPagination","getAutoResetPage","ceil","pageOptions","page","pageStart","pageEnd","canPreviousPage","canNextPage","previousPage","nextPage","resetSelectedRows","toggleRowSelectedAll","toggleRowSelected","useRowSelect","getToggleRowSelectedProps","defaultGetToggleRowSelectedProps","getToggleAllRowsSelectedProps","defaultGetToggleAllRowsSelectedProps","manualRowSelectedKey","isSelected","isAllRowsSelected","selectedRowPaths","selected","flatRowPaths","selectAll","childRowPrefixKey","has","newSelectedRowPaths","rowPath","startsWith","updateParentRow","parentKey","selectedFlatRows","getRowIsSelected","autoResetSelectedRows","getAutoResetSelectedRows","getToggleAllRowsSelectedPropsHooks","getToggleRowSelectedPropsHooks","subRow","setRowState","resetRowState","useRowState","rowState","pathKey","initialRowStateAccessor","autoResetRowState","setCellState","cellState","setState","getAutoResetRowState","resetColumnOrder","setColumnOrder","useColumnOrder","columnOrder","columnOrderCopy","columnsCopy","columnsInOrder","targetColumnId","foundIndex","canResize","columnStartResizing","columnResizing","columnDoneResizing","useResizeColumns","getResizerProps","defaultGetResizerProps","onResizeStart","isTouchEvent","touches","headersToResize","getLeafHeaders","headerIdWidths","clientX","dispatchMove","clientXPos","dispatchEnd","handlersAndEvents","mouse","moveEvent","moveHandler","upEvent","upHandler","removeEventListener","touch","cancelable","preventDefault","stopPropagation","events","addEventListener","passive","columnWidth","onMouseDown","onTouchStart","draggable","columnWidths","startX","isResizingColumn","deltaX","percentageDeltaX","newColumnWidths","headerId","headerWidth","disableResizing","position","getResizerPropsHooks","isResizing","leafHeaders","recurseHeader","cellStyles","top","useAbsoluteLayout","getRowStyles","display","boxSizing","useBlockLayout"],"mappings":"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"}